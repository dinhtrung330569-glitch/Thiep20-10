<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Th∆∞ 20/10 ‚Äî M·ªü th∆∞ üíå</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Inter:wght@300;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#fdeef6;
      --bg2:#f8c2da;
      --envelope:#f06292;
      --flap:#ec407a;
      --paper:#fffefc;
      --ink:#6b1a3a;
      --sticker:#ff6f91;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(160deg,var(--bg1),var(--bg2));font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; -webkit-font-smoothing:antialiased;}
    .stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px}

    .card{
      width:360px; max-width:94vw; height:420px; position:relative; perspective:1200px;
      display:flex; align-items:flex-start; justify-content:center;
    }

    .env-body{
      width:100%; height:260px; border-radius:12px; background:linear-gradient(180deg,var(--envelope),#f48fb1);
      box-shadow:0 14px 40px rgba(0,0,0,0.25); position:absolute; bottom:0; left:0;
    }

    .env-flap{
      position:absolute; top:0; left:50%; transform:translateX(-50%); width:340px; height:200px;
      transform-origin: top center;
      transition: transform 1s cubic-bezier(.2,.9,.25,1);
      z-index:6;
      display:flex; align-items:center; justify-content:center;
    }
    .env-flap .cover-shape{
      width:100%; height:100%;
      background: linear-gradient(170deg,var(--flap), #f48fb1);
      clip-path: polygon(0 0, 100% 0, 50% 85%);
      border-radius:10px;
      box-shadow:0 10px 30px rgba(0,0,0,0.18);
      position:relative;
    }
    .sticker-flap{
      position:absolute; left:14px; top:12px; transform:rotate(-8deg);
      width:56px; height:56px; border-radius:12px; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg,var(--sticker),#ff80ab); color:white; font-size:22px; box-shadow:0 6px 18px rgba(0,0,0,0.18);
      z-index:8;
    }
    .open-btn{
      position:absolute; bottom:18px; left:50%; transform:translateX(-50%);
      z-index:9; border:none; background:rgba(255,255,255,0.95); color:var(--flap); font-weight:700;
      padding:10px 18px; border-radius:999px; box-shadow:0 8px 20px rgba(0,0,0,0.15);
      cursor:pointer; font-size:14px;
    }

    .letter{
      position:absolute; left:10px; right:10px; bottom:-220px; height:280px; background:var(--paper);
      border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,0.22); z-index:4;
      transition: bottom 1s cubic-bezier(.2,.9,.25,1);
      overflow:hidden; padding:18px;
      display:flex; flex-direction:column; align-items:center;
    }
    .letter::before{
      content:"";
      position:absolute; inset:0;
      background-image: repeating-linear-gradient(
        to bottom,
        rgba(0,0,0,0.03) 0px,
        rgba(0,0,0,0.03) 1px,
        transparent 1px,
        transparent 28px
      );
      opacity:0.6;
    }
    .letter::after{
      content:"";
      position:absolute; left:36px; top:12px; bottom:12px; width:2px; background: rgba(255,0,102,0.12);
      opacity:0.8;
    }
    .sticker-letter{
      position:absolute; right:14px; top:12px; width:46px; height:46px; border-radius:10px;
      background: linear-gradient(180deg,#ff6f8f,#ff7aa6); color:white; display:flex; align-items:center; justify-content:center;
      font-size:18px; box-shadow:0 6px 14px rgba(0,0,0,0.12);
      transform: rotate(6deg);
      z-index:8;
    }
    .hole{position:absolute; left:8px; width:8px; height:8px; border-radius:50%; background:rgba(0,0,0,0.06);}
    .hole.h2{ top:70px } .hole.h3{ top:106px } .hole.h4{ top:142px }
    .hole{top:34px}

    .paper-content{
      position:relative; z-index:6; width:100%; height:100%; padding:12px 20px; overflow:auto;
      color:var(--ink); font-family:"Dancing Script", cursive; font-size:1.05rem; line-height:1.8;
      white-space:pre-line; text-align:left;
    }

    /* ·∫£nh v·ª£ */
    .wife-img{
      display:block; width:120px; height:120px; border-radius:12px; object-fit:cover; margin:12px auto 0;
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
      opacity:0; transform:scale(0.9);
      transition: all 1.2s ease;
      border:3px solid #f8bbd0;
    }
    .wife-img.show{
      opacity:1; transform:scale(1);
    }

    .heart{position:fixed;font-size:18px;z-index:30;pointer-events:none;opacity:0;animation:floatUp 6s linear forwards;}
    @keyframes floatUp{0%{transform:translateY(30vh) scale(0.8);opacity:1}100%{transform:translateY(-60vh) scale(1.3);opacity:0}}
    .title{position:absolute;top:8px;left:50%;transform:translateX(-50%);color:#fff;font-weight:600;font-size:16px;}
  </style>
</head>
<body>
  <div class="stage">
    <div class="card">
      <div class="title">üíå Happy 20/10 My Love ‚ù§</div>

      <div class="env-flap" id="flap">
        <div class="cover-shape">
          <div class="sticker-flap">‚ù§</div>
          <button class="open-btn" id="openBtn">M·ªû TH∆Ø</button>
        </div>
      </div>
      <div class="env-body"></div>

      <div class="letter" id="letter">
        <div class="sticker-letter">‚ú¶</div>
        <div class="hole"></div><div class="hole h2"></div><div class="hole h3"></div><div class="hole h4"></div>
        <div class="paper-content" id="paperContent"></div>
        <img src="YOUR_IMAGE_URL_HERE" alt="My Love" class="wife-img" id="wifeImg">
      </div>
    </div>
  </div>

  <audio id="audio" preload="auto" loop>
        <source src="honcayeu.mp3" type="audio/mpeg">
  </audio>

  <script>
    const messages = [
      "G·ª≠i em y√™u c·ªßa anh üíû",
      "Nh√¢n ng√†y 20/10, anh ch√∫c em lu√¥n xinh ƒë·∫πp, t∆∞∆°i c∆∞·ªùi v√† h·∫°nh ph√∫c tr·ªçn v·∫πn üå∑",
      "C·∫£m ∆°n em ƒë√£ lu√¥n b√™n anh, d·ªãu d√†ng v√† ·∫•m √°p nh∆∞ √°nh n·∫Øng ƒë·∫ßu ng√†y.",
      "D√π b·∫≠n r·ªôn ƒë·∫øn ƒë√¢u, ch·ªâ c·∫ßn th·∫•y n·ª• c∆∞·ªùi em ‚Äî m·ªçi m·ªát m·ªèi ƒë·ªÅu tan bi·∫øn.",
      "Anh y√™u em, h√¥m nay v√† m√£i m√£i üíñ"
    ];

    const flap = document.getElementById('flap');
    const openBtn = document.getElementById('openBtn');
    const letter = document.getElementById('letter');
    const paperContent = document.getElementById('paperContent');
    const audio = document.getElementById('audio');
    const wifeImg = document.getElementById('wifeImg');

    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = '‚ù§';
      h.style.left = (10 + Math.random()*80) + 'vw';
      h.style.fontSize = (12 + Math.random()*26) + 'px';
      h.style.color = `hsl(${330 + Math.random()*20}, 85%, 70%)`;
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),6200);
    }

    function openEnvelope(){
      flap.style.transform='translateX(-50%) rotateX(-180deg)';
      setTimeout(()=>{
        letter.style.bottom='30px';
        audio.volume=0.45; audio.play().catch(()=>{});
        let i=0;
        paperContent.innerHTML="";
        const interval=setInterval(()=>{
          if(i<messages.length){
            const p=document.createElement('div');
            p.textContent=messages[i];
            p.style.marginBottom='10px';
            p.style.opacity='0';
            paperContent.appendChild(p);
            requestAnimationFrame(()=>{
              p.style.transition='all 0.6s ease';
              p.style.opacity='1';
              p.style.transform='translateY(0)';
            });
            i++;
          }else{
            clearInterval(interval);
            // Hi·ªán ·∫£nh sau khi h·∫øt l·ªùi
            setTimeout(()=>wifeImg.classList.add('show'),1200);
          }
        },1500);
        setInterval(spawnHeart,520);
      },700);
    }

    openBtn.addEventListener('click',openEnvelope);
  </script>
</body>
</html>
